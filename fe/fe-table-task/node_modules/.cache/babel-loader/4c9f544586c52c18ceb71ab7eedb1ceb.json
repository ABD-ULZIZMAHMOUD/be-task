{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Zizo\\\\go\\\\src\\\\be-task\\\\fe\\\\fe-table-task\\\\src\\\\components\\\\FilteringTable.js\",\n    _s = $RefreshSig$();\n\nimport React, { useMemo, useState, useEffect } from \"react\";\nimport { useTable, usePagination } from \"react-table\";\nimport { COLUMNS } from \"./columns\";\nimport \"./table.css\";\nimport { SelectInput } from \"./SelectInput\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const FilteringTable = () => {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [country, setCountry] = useState(\"\");\n  const [stateFilter, setStateFilter] = useState(\"\");\n  useEffect(() => {\n    axios.get(\"http://127.0.0.1:8000/customers/all?limit=50&page=1&\" + \"state=\" + stateFilter + \"&country=\" + country).then(res => {\n      setData(res.data.payload.records);\n      setIsLoading(false);\n    });\n  }, [country, stateFilter]);\n\n  function changeHandlerState(event) {\n    setStateFilter(event.value != null);\n  }\n\n  function handleSelectChange(event) {\n    setCountry(event == null ? \"\" : event.value);\n  }\n\n  console.log(\"data\", data);\n  const columns = useMemo(() => COLUMNS, []);\n  const tableInstance = useTable({\n    columns,\n    // columns: columns,\n    data\n  }, usePagination);\n  const {\n    getTableBodyProps,\n    getTableProps,\n    headerGroups,\n    page,\n    nextPage,\n    previousPage,\n    canNextPage,\n    pageOptions,\n    canPreviousPage,\n    prepareRow,\n    state\n  } = tableInstance;\n  const {\n    pageIndex\n  } = state;\n  const stateOptions = [{\n    value: \"valid\",\n    label: \"Valid\"\n  }, {\n    value: \"not_valid\",\n    label: \"Not Valid\"\n  }];\n  const countryOptions = [{\n    value: \"Cameroon\",\n    label: \"Cameroon\"\n  }, {\n    value: \"Ethiopia\",\n    label: \"Ethiopia\"\n  }, {\n    value: \"Morocco\",\n    label: \"Morocco\"\n  }, {\n    value: \"Mozambique\",\n    label: \"Mozambique\"\n  }, {\n    value: \"Uganda\",\n    label: \"Uganda\"\n  }];\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \" loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        margin: \"30px 50px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: 40\n        },\n        children: [/*#__PURE__*/_jsxDEV(SelectInput, {\n          options: countryOptions,\n          placeholder: \"select countries\",\n          setSelectedOption: handleSelectChange,\n          selectedOption: country\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SelectInput, {\n          options: stateOptions,\n          placeholder: \"select state\",\n          setSelectedOption: changeHandlerState,\n          selectedOption: stateFilter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: 40\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", { ...getTableProps(),\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: headerGroups.map(headerGroup => /*#__PURE__*/_jsxDEV(\"tr\", { ...headerGroup.getHeaderGroupProps(),\n          children: headerGroup.headers.map(col => /*#__PURE__*/_jsxDEV(\"th\", { ...col.getHeaderProps(),\n            children: col.render(\"Header\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", { ...getTableBodyProps(),\n        children: page.map(row => {\n          prepareRow(row);\n          return /*#__PURE__*/_jsxDEV(\"tr\", { ...row.getRowProps(),\n            children: row.cells.map(cell => /*#__PURE__*/_jsxDEV(\"td\", { ...cell.getCellProps(),\n              children: cell.render(\"Cell\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => previousPage(),\n        disabled: !canPreviousPage,\n        children: [\" \", `<`, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: ` page ${pageIndex + 1} of ${pageOptions.length} `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => nextPage(),\n        disabled: !canNextPage,\n        children: [\" \", `>`, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(FilteringTable, \"8l0oXp2OQXGI6I7jCKXzaze+59I=\", false, function () {\n  return [useTable];\n});\n\n_c = FilteringTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilteringTable\");","map":{"version":3,"names":["React","useMemo","useState","useEffect","useTable","usePagination","COLUMNS","SelectInput","axios","FilteringTable","data","setData","isLoading","setIsLoading","country","setCountry","stateFilter","setStateFilter","get","then","res","payload","records","changeHandlerState","event","value","handleSelectChange","console","log","columns","tableInstance","getTableBodyProps","getTableProps","headerGroups","page","nextPage","previousPage","canNextPage","pageOptions","canPreviousPage","prepareRow","state","pageIndex","stateOptions","label","countryOptions","display","justifyContent","margin","gap","map","headerGroup","getHeaderGroupProps","headers","col","getHeaderProps","render","row","getRowProps","cells","cell","getCellProps","length"],"sources":["C:/Users/Zizo/go/src/be-task/fe/fe-table-task/src/components/FilteringTable.js"],"sourcesContent":["import React, { useMemo, useState, useEffect } from \"react\";\r\nimport { useTable, usePagination } from \"react-table\";\r\nimport { COLUMNS } from \"./columns\";\r\nimport \"./table.css\";\r\nimport { SelectInput } from \"./SelectInput\";\r\nimport axios from \"axios\";\r\n\r\nexport const FilteringTable = () => {\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [country, setCountry] = useState(\"\");\r\n  const [stateFilter, setStateFilter] = useState(\"\");\r\n  useEffect(() => {\r\n    axios.get(\"http://127.0.0.1:8000/customers/all?limit=50&page=1&\" + \"state=\" + stateFilter + \"&country=\" + country).then((res) => {\r\n      setData(res.data.payload.records);\r\n      setIsLoading(false);\r\n    });\r\n\r\n  }, [country, stateFilter]);\r\n\r\n  function changeHandlerState(event) {\r\n    setStateFilter(event.value!=null)\r\n  }\r\n\r\n  function handleSelectChange(event) {\r\n    setCountry(event==null?\"\":event.value);\r\n  }\r\n  console.log(\"data\", data);\r\n  const columns = useMemo(() => COLUMNS, []);\r\n  const tableInstance = useTable(\r\n    {\r\n      columns, // columns: columns,\r\n      data,\r\n    },\r\n    usePagination\r\n  );\r\n  const {\r\n    getTableBodyProps,\r\n    getTableProps,\r\n    headerGroups,\r\n    page,\r\n    nextPage,\r\n    previousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    canPreviousPage,\r\n    prepareRow,\r\n    state,\r\n  } = tableInstance;\r\n  const { pageIndex } = state;\r\n  const stateOptions = [\r\n    { value: \"valid\", label: \"Valid\" },\r\n    { value: \"not_valid\", label: \"Not Valid\" },\r\n  ];\r\n\r\n  const countryOptions = [\r\n    { value: \"Cameroon\", label: \"Cameroon\" },\r\n    { value: \"Ethiopia\", label: \"Ethiopia\" },\r\n    { value: \"Morocco\", label: \"Morocco\" },\r\n    { value: \"Mozambique\", label: \"Mozambique\" },\r\n    { value: \"Uganda\", label: \"Uganda\" },\r\n\r\n  ];\r\n  if (isLoading) {\r\n    return <h2> loading</h2>\r\n  }\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n\r\n          justifyContent: \"space-between\",\r\n          margin: \"30px 50px\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            gap: 40,\r\n          }}\r\n        >\r\n          <SelectInput options={countryOptions} placeholder=\"select countries\" setSelectedOption={handleSelectChange } selectedOption={country} />\r\n          <SelectInput options={stateOptions} placeholder=\"select state\" setSelectedOption={changeHandlerState} selectedOption={stateFilter} />\r\n        </div>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            gap: 40,\r\n          }}\r\n        >\r\n        </div>\r\n      </div>\r\n      <table {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map((headerGroup) => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map((col) => (\r\n                <th {...col.getHeaderProps()}>{col.render(\"Header\")}</th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n          {page.map((row) => {\r\n            prepareRow(row);\r\n            return (\r\n              <tr {...row.getRowProps()}>\r\n                {row.cells.map((cell) => (\r\n                  <td {...cell.getCellProps()}>{cell.render(\"Cell\")}</td>\r\n                ))}\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      <div>\r\n        <button onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          {\" \"}\r\n          {`<`}{\" \"}\r\n        </button>\r\n        <strong>{` page ${pageIndex + 1} of ${pageOptions.length} `}</strong>\r\n        <button onClick={() => nextPage()} disabled={!canNextPage}>\r\n          {\" \"}\r\n          {`>`}{\" \"}\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,OAAhB,EAAyBC,QAAzB,EAAmCC,SAAnC,QAAoD,OAApD;AACA,SAASC,QAAT,EAAmBC,aAAnB,QAAwC,aAAxC;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,OAAO,aAAP;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,OAAO,MAAMC,cAAc,GAAG,MAAM;EAAA;;EAElC,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,EAAD,CAAhC;EAEA,MAAM,CAACU,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC,IAAD,CAA1C;EACA,MAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,EAAD,CAAtC;EACA,MAAM,CAACc,WAAD,EAAcC,cAAd,IAAgCf,QAAQ,CAAC,EAAD,CAA9C;EACAC,SAAS,CAAC,MAAM;IACdK,KAAK,CAACU,GAAN,CAAU,yDAAyD,QAAzD,GAAoEF,WAApE,GAAkF,WAAlF,GAAgGF,OAA1G,EAAmHK,IAAnH,CAAyHC,GAAD,IAAS;MAC/HT,OAAO,CAACS,GAAG,CAACV,IAAJ,CAASW,OAAT,CAAiBC,OAAlB,CAAP;MACAT,YAAY,CAAC,KAAD,CAAZ;IACD,CAHD;EAKD,CANQ,EAMN,CAACC,OAAD,EAAUE,WAAV,CANM,CAAT;;EAQA,SAASO,kBAAT,CAA4BC,KAA5B,EAAmC;IACjCP,cAAc,CAACO,KAAK,CAACC,KAAN,IAAa,IAAd,CAAd;EACD;;EAED,SAASC,kBAAT,CAA4BF,KAA5B,EAAmC;IACjCT,UAAU,CAACS,KAAK,IAAE,IAAP,GAAY,EAAZ,GAAeA,KAAK,CAACC,KAAtB,CAAV;EACD;;EACDE,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBlB,IAApB;EACA,MAAMmB,OAAO,GAAG5B,OAAO,CAAC,MAAMK,OAAP,EAAgB,EAAhB,CAAvB;EACA,MAAMwB,aAAa,GAAG1B,QAAQ,CAC5B;IACEyB,OADF;IACW;IACTnB;EAFF,CAD4B,EAK5BL,aAL4B,CAA9B;EAOA,MAAM;IACJ0B,iBADI;IAEJC,aAFI;IAGJC,YAHI;IAIJC,IAJI;IAKJC,QALI;IAMJC,YANI;IAOJC,WAPI;IAQJC,WARI;IASJC,eATI;IAUJC,UAVI;IAWJC;EAXI,IAYFX,aAZJ;EAaA,MAAM;IAAEY;EAAF,IAAgBD,KAAtB;EACA,MAAME,YAAY,GAAG,CACnB;IAAElB,KAAK,EAAE,OAAT;IAAkBmB,KAAK,EAAE;EAAzB,CADmB,EAEnB;IAAEnB,KAAK,EAAE,WAAT;IAAsBmB,KAAK,EAAE;EAA7B,CAFmB,CAArB;EAKA,MAAMC,cAAc,GAAG,CACrB;IAAEpB,KAAK,EAAE,UAAT;IAAqBmB,KAAK,EAAE;EAA5B,CADqB,EAErB;IAAEnB,KAAK,EAAE,UAAT;IAAqBmB,KAAK,EAAE;EAA5B,CAFqB,EAGrB;IAAEnB,KAAK,EAAE,SAAT;IAAoBmB,KAAK,EAAE;EAA3B,CAHqB,EAIrB;IAAEnB,KAAK,EAAE,YAAT;IAAuBmB,KAAK,EAAE;EAA9B,CAJqB,EAKrB;IAAEnB,KAAK,EAAE,QAAT;IAAmBmB,KAAK,EAAE;EAA1B,CALqB,CAAvB;;EAQA,IAAIhC,SAAJ,EAAe;IACb,oBAAO;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;;EACD,oBACE;IAAA,wBACE;MACE,KAAK,EAAE;QACLkC,OAAO,EAAE,MADJ;QAGLC,cAAc,EAAE,eAHX;QAILC,MAAM,EAAE;MAJH,CADT;MAAA,wBAQE;QACE,KAAK,EAAE;UACLF,OAAO,EAAE,MADJ;UAELG,GAAG,EAAE;QAFA,CADT;QAAA,wBAME,QAAC,WAAD;UAAa,OAAO,EAAEJ,cAAtB;UAAsC,WAAW,EAAC,kBAAlD;UAAqE,iBAAiB,EAAEnB,kBAAxF;UAA6G,cAAc,EAAEZ;QAA7H;UAAA;UAAA;UAAA;QAAA,QANF,eAOE,QAAC,WAAD;UAAa,OAAO,EAAE6B,YAAtB;UAAoC,WAAW,EAAC,cAAhD;UAA+D,iBAAiB,EAAEpB,kBAAlF;UAAsG,cAAc,EAAEP;QAAtH;UAAA;UAAA;UAAA;QAAA,QAPF;MAAA;QAAA;QAAA;QAAA;MAAA,QARF,eAiBE;QACE,KAAK,EAAE;UACL8B,OAAO,EAAE,MADJ;UAELG,GAAG,EAAE;QAFA;MADT;QAAA;QAAA;QAAA;MAAA,QAjBF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eA0BE,sBAAWjB,aAAa,EAAxB;MAAA,wBACE;QAAA,UACGC,YAAY,CAACiB,GAAb,CAAkBC,WAAD,iBAChB,mBAAQA,WAAW,CAACC,mBAAZ,EAAR;UAAA,UACGD,WAAW,CAACE,OAAZ,CAAoBH,GAApB,CAAyBI,GAAD,iBACvB,mBAAQA,GAAG,CAACC,cAAJ,EAAR;YAAA,UAA+BD,GAAG,CAACE,MAAJ,CAAW,QAAX;UAA/B;YAAA;YAAA;YAAA;UAAA,QADD;QADH;UAAA;UAAA;UAAA;QAAA,QADD;MADH;QAAA;QAAA;QAAA;MAAA,QADF,eAUE,sBAAWzB,iBAAiB,EAA5B;QAAA,UACGG,IAAI,CAACgB,GAAL,CAAUO,GAAD,IAAS;UACjBjB,UAAU,CAACiB,GAAD,CAAV;UACA,oBACE,mBAAQA,GAAG,CAACC,WAAJ,EAAR;YAAA,UACGD,GAAG,CAACE,KAAJ,CAAUT,GAAV,CAAeU,IAAD,iBACb,mBAAQA,IAAI,CAACC,YAAL,EAAR;cAAA,UAA8BD,IAAI,CAACJ,MAAL,CAAY,MAAZ;YAA9B;cAAA;cAAA;cAAA;YAAA,QADD;UADH;YAAA;YAAA;YAAA;UAAA,QADF;QAOD,CATA;MADH;QAAA;QAAA;QAAA;MAAA,QAVF;IAAA;MAAA;MAAA;MAAA;IAAA,QA1BF,eAiDE;MAAA,wBACE;QAAQ,OAAO,EAAE,MAAMpB,YAAY,EAAnC;QAAuC,QAAQ,EAAE,CAACG,eAAlD;QAAA,WACG,GADH,EAEI,GAFJ,EAEQ,GAFR;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAKE;QAAA,UAAU,SAAQG,SAAS,GAAG,CAAE,OAAMJ,WAAW,CAACwB,MAAO;MAAzD;QAAA;QAAA;QAAA;MAAA,QALF,eAME;QAAQ,OAAO,EAAE,MAAM3B,QAAQ,EAA/B;QAAmC,QAAQ,EAAE,CAACE,WAA9C;QAAA,WACG,GADH,EAEI,GAFJ,EAEQ,GAFR;MAAA;QAAA;QAAA;QAAA;MAAA,QANF;IAAA;MAAA;MAAA;MAAA;IAAA,QAjDF;EAAA,gBADF;AA+DD,CA5HM;;GAAM5B,c;UAwBWL,Q;;;KAxBXK,c"},"metadata":{},"sourceType":"module"}